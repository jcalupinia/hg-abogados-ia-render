services:
  - type: web
    name: hg-abogados-ia
    env: python
    region: oregon
    plan: professional
    buildCommand: |
      echo "ðŸš€ Configurando entorno de H&G Abogados IA con Python 3.10..."
      pip install --upgrade pip setuptools wheel
      echo "ðŸ“¦ Instalando dependencias del proyecto..."
      pip install -r requirements.txt
      echo "ðŸ§  Instalando Playwright (Chromium)..."
      playwright install --with-deps chromium
      python --version
      pip list | grep fastapi
      echo "âœ… Entorno instalado correctamente."
    startCommand: gunicorn -k uvicorn.workers.UvicornWorker main:app
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.12
      - key: FIELWEB_USERNAME
        value: consultor@hygabogados.ec
      - key: FIELWEB_PASSWORD
        value: consultor@hygabogados.ec
      - key: FIELWEB_LOGIN_URL
        value: https://www.fielweb.com/Cuenta/Login.aspx
      - key: X_API_KEY
        value: HYGABOGADOS-SECURE-2025
